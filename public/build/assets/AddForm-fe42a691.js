import{o as n,d as r,a as t,t as b,h as _,F as v,r as y,i as f,j as g,c as x,w as p,b as s,f as V,u as $,k as I,l as w,m as k,n as S,O as F}from"./app-5e210827.js";import{_ as C}from"./AppLayout-36f53fba.js";import{_ as B}from"./SecondaryNavigation-db4a6c85.js";import{_ as D}from"./TitleSection-efad3910.js";const N=["for"],A={key:0},M={key:1},L=["rows","id","name"],O=["type","id","name"],j=["type","id","name"],l={name:"InputLabel",props:{label:String,type:String,rows:Number,id:String},emits:["inputValue"],setup(c,{emit:o}){const e=c,m=a=>{let d=a.target.name,u=a.target.value;o("inputValue",d,u)},i=a=>{const d=a.target.files[0];o("inputValue","image",d)};return(a,d)=>(n(),r(v,null,[t("label",{class:"block font-medium text-sm text-gray-700",for:e.id},[c.label?(n(),r("span",A,b(c.label),1)):(n(),r("span",M,[_(a.$slots,"default")]))],8,N),e.rows?(n(),r("textarea",{key:0,rows:e.rows,id:e.id,name:e.id,class:"rounded-lg border-none w-full",onBlur:m},null,40,L)):e.type==="file"?(n(),r("input",{key:1,type:e.type,id:e.id,name:e.id,class:"",onChange:i},null,40,O)):(n(),r("input",{key:2,type:e.type,id:e.id,name:e.id,class:"rounded-lg border-none w-full",onBlur:m},null,40,j))],64))}},z=["enctype","method","action"],E={name:"FormSection",props:{action:String,method:String,enctype:String},setup(c){const o=c;return(e,m)=>(n(),r("form",{enctype:o.enctype,method:o.method,action:o.action},[_(e.$slots,"header"),_(e.$slots,"main"),_(e.$slots,"footer")],8,z))}};const H={class:"mx-8 pt-16"},P={class:"m-8"},R={class:"m-8"},T={class:"m-8 flex flex-wrap gap-2"},U=["id","value"],q=["for"],G={class:"m-8"},J={class:"m-8"},K={class:"m-8"},Q={class:"m-8"},W={class:"m-8"},X={class:"m-8"},Y={class:"m-8"},Z={class:"m-8"},ee=t("div",{class:"m-8"},[t("button",{type:"submit"},"Créer")],-1),le={name:"AddForm",setup(c){let o=y({});f(()=>{g.get("/api/categories").then(a=>o.value=a.data).catch(a=>console.log(a))});const e=y({title:null,date_activity:null,hour:null,duration:null,adress:null,localisation:null,description:null,nb_max_participants:null,pays:null,image:null,category_id:null}),m=()=>{F.post("/activities",e.value)},i=(a,d)=>{e.value[a]=d};return(a,d)=>(n(),x(C,{title:"addForm",class:"bg-blue-50"},{nav:p(()=>[s(B,{class:"bg-teal"})]),header:p(()=>[t("div",H,[s(D,{class:"font-extrabold text-gray-700 py-6 text-xl",value:"Créer une nouvelle activité"})])]),main:p(()=>[s(E,{onSubmit:I(m,["prevent"]),enctype:"multipart/form-data"},{header:p(()=>[t("div",P,[s(l,{onInputValue:i,type:"file",label:"Choisir une image",id:"image",name:"image"})])]),main:p(()=>[t("div",R,[s(l,{onInputValue:i,type:"text",label:"Titre de l'activité",id:"title"})]),t("div",T,[(n(!0),r(v,null,V($(o),u=>(n(),r("div",{key:u.id,class:"mx-0.5 my-1"},[w(t("input",{"onUpdate:modelValue":d[0]||(d[0]=h=>e.value.category_id=h),type:"radio",id:"category-"+u.id,value:u.id,class:"hidden"},null,8,U),[[k,e.value.category_id]]),t("label",{for:"category-"+u.id,class:S(["p-3 py-1.5 text-slate-700 bg-blue-100 text-sm font-medium text-center pt-1.5 pb-2 rounded-lg border-2 border-blue-300 cursor-pointer",{"focus:border-blue-400 text-blue-50 bg-blue-400":e.value.category_id===u.id}])},b(u.name),11,q)]))),128))]),t("div",G,[s(l,{onInputValue:i,type:"date",label:"Date de l'activité",id:"date_activity"})]),t("div",J,[s(l,{onInputValue:i,type:"time",label:"Heure de l'activité",id:"hour"})]),t("div",K,[s(l,{onInputValue:i,type:"time",label:"Durée de l'activité",id:"duration"})]),t("div",Q,[s(l,{onInputValue:i,type:"number",label:"Nombre de participants",id:"nb_max_participants"})]),t("div",W,[s(l,{onInputValue:i,type:"text",label:"Adresse",id:"adress"})]),t("div",X,[s(l,{onInputValue:i,type:"text",label:"Ville",id:"localisation"})]),t("div",Y,[s(l,{onInputValue:i,type:"text",label:"Pays",id:"pays"})]),t("div",Z,[s(l,{onInputValue:i,type:"textarea",label:"Description de l'activité",rows:"10",id:"description"})])]),footer:p(()=>[ee]),_:1},8,["onSubmit"])]),_:1}))}};export{le as default};
